{"ast":null,"code":"import _classCallCheck from\"/Users/harrisonuhunghama/Documents/GitHub/LREMS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/harrisonuhunghama/Documents/GitHub/LREMS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/harrisonuhunghama/Documents/GitHub/LREMS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/harrisonuhunghama/Documents/GitHub/LREMS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/harrisonuhunghama/Documents/GitHub/LREMS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';var ScrollspyNav=/*#__PURE__*/function(_Component){_inherits(ScrollspyNav,_Component);var _super=_createSuper(ScrollspyNav);function ScrollspyNav(props){var _this;_classCallCheck(this,ScrollspyNav);_this=_super.call(this,props);_this.scrollSection=function(){var scrollSectionOffsetTop;_this.scrollTargetIds.forEach(function(sectionID,index){scrollSectionOffsetTop=document.getElementById(sectionID).offsetTop-(_this.headerBackground?document.querySelector(\"div[data-nav='list']\").scrollHeight:0);if(window.pageYOffset>=scrollSectionOffsetTop&&window.pageYOffset<scrollSectionOffsetTop+document.getElementById(sectionID).scrollHeight){_this.getNavLinkElement(sectionID).classList.add(_this.activeNavClass);_this.getNavLinkElement(sectionID).parentNode.classList.add(_this.activeNavClass);_this.clearOtherNavLinkActiveStyle(sectionID);}else{_this.getNavLinkElement(sectionID).classList.remove(_this.activeNavClass);_this.getNavLinkElement(sectionID).parentNode.classList.remove(_this.activeNavClass);}if(window.innerHeight+window.pageYOffset>=document.body.scrollHeight&&index===_this.scrollTargetIds.length-1){_this.getNavLinkElement(sectionID).classList.add(_this.activeNavClass);_this.getNavLinkElement(sectionID).parentNode.classList.add(_this.activeNavClass);_this.clearOtherNavLinkActiveStyle(sectionID);}});};_this.props=props;_this.scrollTargetIds=_this.props.scrollTargetIds;_this.activeNavClass=_this.props.activeNavClass;_this.scrollDuration=Number(_this.props.scrollDuration)||1000;_this.headerBackground=_this.props.headerBackground===\"true\"?true:false;if(_this.props.router&&_this.props.router===\"HashRouter\"){_this.homeDefaultLink=\"#/\";_this.hashIdentifier=\"#/#\";}else{_this.homeDefaultLink=\"/\";_this.hashIdentifier=\"#\";}_this.scrollSection.bind(_assertThisInitialized(_this));return _this;}_createClass(ScrollspyNav,[{key:\"easeInOutQuad\",value:function easeInOutQuad(current_time,start,change,duration){current_time/=duration/2;if(current_time<1)return change/2*current_time*current_time+start;current_time--;return-change/2*(current_time*(current_time-2)-1)+start;}},{key:\"scrollTo\",value:function scrollTo(start,to,duration){var _this2=this;var change=to-start,currentTime=0,increment=10;var animateScroll=function animateScroll(){currentTime+=increment;var val=_this2.easeInOutQuad(currentTime,start,change,duration);window.scrollTo(0,val);if(currentTime<duration){setTimeout(animateScroll,increment);}};animateScroll();}},{key:\"getNavLinkElement\",value:function getNavLinkElement(sectionID){return document.querySelector(\"a[href='\".concat(this.hashIdentifier).concat(sectionID,\"']\"));}},{key:\"getNavToSectionID\",value:function getNavToSectionID(navHref){return navHref.includes(this.hashIdentifier)?navHref.replace(this.hashIdentifier,\"\"):\"\";}},{key:\"componentDidMount\",value:function componentDidMount(){var _this3=this;if(document.querySelector(\"a[href='\".concat(this.homeDefaultLink,\"']\"))){document.querySelector(\"a[href='\".concat(this.homeDefaultLink,\"']\")).addEventListener(\"click\",function(event){event.preventDefault();_this3.scrollTo(window.pageYOffset,0,_this3.scrollDuration);window.location.hash=\"\";});}document.querySelector(\"div[data-nav='list']\").querySelectorAll(\"a\").forEach(function(navLink){navLink.addEventListener(\"click\",function(event){event.preventDefault();var sectionID=_this3.getNavToSectionID(navLink.getAttribute(\"href\"));if(sectionID){var scrollTargetPosition=document.getElementById(sectionID).offsetTop-(_this3.headerBackground?document.querySelector(\"div[data-nav='list']\").scrollHeight:0);_this3.scrollTo(window.pageYOffset,scrollTargetPosition,_this3.scrollDuration);}else{_this3.scrollTo(window.pageYOffset,0,_this3.scrollDuration);}});});window.addEventListener(\"scroll\",this.scrollSection,true);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){window.removeEventListener(\"scroll\",this.scrollSection,true);}},{key:\"clearOtherNavLinkActiveStyle\",value:function clearOtherNavLinkActiveStyle(excludeSectionID){var _this4=this;this.scrollTargetIds.forEach(function(sectionID,index){if(sectionID!==excludeSectionID){_this4.getNavLinkElement(sectionID).classList.remove(_this4.activeNavClass);_this4.getNavLinkElement(sectionID).parentNode.classList.remove(_this4.activeNavClass);}});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{\"data-nav\":\"list\",className:this.props.className},this.props.children);}}]);return ScrollspyNav;}(Component);export default ScrollspyNav;","map":{"version":3,"sources":["/Users/harrisonuhunghama/Documents/GitHub/LREMS/src/components/Navbar/scrollSpy.js"],"names":["React","Component","ScrollspyNav","props","scrollSection","scrollSectionOffsetTop","scrollTargetIds","forEach","sectionID","index","document","getElementById","offsetTop","headerBackground","querySelector","scrollHeight","window","pageYOffset","getNavLinkElement","classList","add","activeNavClass","parentNode","clearOtherNavLinkActiveStyle","remove","innerHeight","body","length","scrollDuration","Number","router","homeDefaultLink","hashIdentifier","bind","current_time","start","change","duration","to","currentTime","increment","animateScroll","val","easeInOutQuad","scrollTo","setTimeout","navHref","includes","replace","addEventListener","event","preventDefault","location","hash","querySelectorAll","navLink","getNavToSectionID","getAttribute","scrollTargetPosition","removeEventListener","excludeSectionID","className","children"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n\r\nclass ScrollspyNav extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.props = props;\r\n        this.scrollTargetIds = this.props.scrollTargetIds;\r\n        this.activeNavClass = this.props.activeNavClass;\r\n        this.scrollDuration = Number(this.props.scrollDuration) || 1000;\r\n        this.headerBackground = this.props.headerBackground === \"true\" ? true : false;\r\n\r\n        if (this.props.router && this.props.router === \"HashRouter\") {\r\n            this.homeDefaultLink = \"#/\";\r\n            this.hashIdentifier = \"#/#\";\r\n        } else {\r\n            this.homeDefaultLink = \"/\";\r\n            this.hashIdentifier = \"#\";\r\n        }\r\n        this.scrollSection.bind(this);\r\n    }\r\n\r\n    easeInOutQuad(current_time, start, change, duration) {\r\n        current_time /= duration / 2;\r\n        if (current_time < 1) return change / 2 * current_time * current_time + start;\r\n        current_time--;\r\n        return -change / 2 * (current_time * (current_time - 2) - 1) + start;\r\n    };\r\n\r\n    scrollTo(start, to, duration) {\r\n        let change = to - start,\r\n            currentTime = 0,\r\n            increment = 10;\r\n\r\n        let animateScroll = () => {\r\n            currentTime += increment;\r\n            let val = this.easeInOutQuad(currentTime, start, change, duration);\r\n            window.scrollTo(0, val);\r\n            if (currentTime < duration) {\r\n                setTimeout(animateScroll, increment);\r\n            }\r\n        };\r\n\r\n        animateScroll();\r\n    }\r\n\r\n    getNavLinkElement(sectionID) {\r\n        return document.querySelector(`a[href='${this.hashIdentifier}${sectionID}']`);\r\n    }\r\n\r\n    getNavToSectionID(navHref) {\r\n        return navHref.includes(this.hashIdentifier) ? navHref.replace(this.hashIdentifier, \"\") : \"\";\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (document.querySelector(`a[href='${this.homeDefaultLink}']`)) {\r\n            document.querySelector(`a[href='${this.homeDefaultLink}']`).addEventListener(\"click\", (event) => {\r\n                event.preventDefault();\r\n                this.scrollTo(window.pageYOffset, 0, this.scrollDuration);\r\n                window.location.hash = \"\";\r\n            });\r\n        }\r\n\r\n        document.querySelector(\"div[data-nav='list']\").querySelectorAll(\"a\").forEach((navLink) => {\r\n            navLink.addEventListener(\"click\", (event) => {\r\n                event.preventDefault();\r\n                let sectionID = this.getNavToSectionID(navLink.getAttribute(\"href\"));\r\n\r\n                if (sectionID) {\r\n                    let scrollTargetPosition = document.getElementById(sectionID).offsetTop - (this.headerBackground ? document.querySelector(\"div[data-nav='list']\").scrollHeight : 0);\r\n                    this.scrollTo(window.pageYOffset, scrollTargetPosition, this.scrollDuration);\r\n                } else {\r\n                    this.scrollTo(window.pageYOffset, 0, this.scrollDuration);\r\n                }\r\n            });\r\n        })\r\n\r\n        window.addEventListener(\"scroll\", this.scrollSection, true );\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        window.removeEventListener(\"scroll\", this.scrollSection, true );\r\n    }\r\n    \r\n    scrollSection = () => {\r\n            let scrollSectionOffsetTop;\r\n            this.scrollTargetIds.forEach((sectionID, index) => {\r\n                scrollSectionOffsetTop = document.getElementById(sectionID).offsetTop - (this.headerBackground ? document.querySelector(\"div[data-nav='list']\").scrollHeight : 0);\r\n\r\n                if (window.pageYOffset >= scrollSectionOffsetTop && window.pageYOffset < scrollSectionOffsetTop + document.getElementById(sectionID).scrollHeight) {\r\n                    this.getNavLinkElement(sectionID).classList.add(this.activeNavClass);\r\n                    this.getNavLinkElement(sectionID).parentNode.classList.add(this.activeNavClass);\r\n                    this.clearOtherNavLinkActiveStyle(sectionID)\r\n                } else {\r\n                    this.getNavLinkElement(sectionID).classList.remove(this.activeNavClass);\r\n                    this.getNavLinkElement(sectionID).parentNode.classList.remove(this.activeNavClass);\r\n                }\r\n\r\n                if (window.innerHeight + window.pageYOffset >= document.body.scrollHeight && index === this.scrollTargetIds.length - 1) {\r\n                    this.getNavLinkElement(sectionID).classList.add(this.activeNavClass);\r\n                    this.getNavLinkElement(sectionID).parentNode.classList.add(this.activeNavClass);\r\n                    this.clearOtherNavLinkActiveStyle(sectionID);\r\n                }\r\n            });\r\n    }\r\n    clearOtherNavLinkActiveStyle(excludeSectionID) {\r\n        this.scrollTargetIds.forEach((sectionID, index) => {\r\n            if (sectionID !== excludeSectionID) {\r\n                this.getNavLinkElement(sectionID).classList.remove(this.activeNavClass);\r\n                this.getNavLinkElement(sectionID).parentNode.classList.remove(this.activeNavClass);\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div data-nav=\"list\" className={this.props.className}>\r\n                {this.props.children}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ScrollspyNav;"]},"metadata":{},"sourceType":"module"}